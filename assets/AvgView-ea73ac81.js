import{c as k}from"./ChapterData-71eab918.js";import{j as y}from"./j2m-085c5257.js";import{a as N}from"./txtstore-1d37356f.js";import{x as $,_ as w,r as A,o as t,c as e,a,t as d,F as h,h as f,u as g,g as j,d as b}from"./index-80765794.js";import{S as L}from"./SiteNotice-b3156bf6.js";const T={1:{8:1,18:[101,102,103,104,105,106,107,108,109,110,141,142,143,144,145,146,183,184]},2:{8:2,18:[201,202,203,204,205,206,207,208,209,210,241,242,243,244,245,246,281,282,283,284,285]},3:{8:3,18:[301,302,303,304,305,306,307,308,309,310,341,342,343,344,345,346,381,382,383,384,385]},4:{8:4,18:[401,402,403,404,405,406,407,408,409,410,441,442,443,444,445,446,481,482,483,484,485,486]},5:{8:5,18:[501,502,503,504,505,506,507,508,509,510,541,542,543,544,545,546,581,582,583,584]},6:{8:6,18:[601,602,603,604,605,606,607,608,609,610,641,642,643,644,645,646,681,682,683,684,685]},7:{8:7,18:[701,702,703,704,705,706,707,708,709,710,741,742,743,744,745,746,781,782,783]},3001:{8:3001,18:[30301,30302,30303,30304,30305,30306,30307,30308,30309,30341,30342,30343,30344,30345,30346,30381,30382]},3002:{8:3002,18:[30401,30402,30403,30404,30405,30406,30407,30408,30409]},4006:{8:4006,18:[30501,30502,30503,30504,30505,30506,30507,30508,30509,30541,30542,30543,30544,30545,30546,30586,30587]},91001:{8:91001,18:[161,162,163,164,165]},91002:{8:91002,18:[261,262,263,264,265]},91003:{8:91003,18:[361,362,363,364,365]},91004:{8:91004,18:[461,462,463,464,465]},91005:{8:91005,18:[561,562,563,564,565]},91006:{8:91006,18:[661,662,663,664,665]},91007:{8:91007,18:[761,762,763,764,765]},93001:{8:93001,18:[30101,30102,30103,30104,30105]},93002:{8:93002,18:[30461,30462,30463,30464,30465]},94006:{8:94006,18:[30561,30562,30563,30564,30565]},994001:{8:994001,18:[30111,30112,30113,30114,30115]},994002:{8:994002,18:[30471,30472,30473,30474,30475]},994004:{8:994004,18:[30571,30572,30573,30574,30575]}},V={0:{8:0,18:{16:316}},300:{8:300,18:{8:316,16:92}},400:{8:400,18:{8:408,16:58}},9100:{8:9100,18:{8:466,16:126}},9300:{8:9300,18:{8:592,16:46}},9400:{8:9400,18:{8:638,16:23}},99400:{8:99400,18:{8:661,16:69}}},B={8:10,16:1,data:T,extra:V},n=$({viewIdx:0,cptId:0,avgNo:"",avgName:""});const M={id:"stage-list"},E=["num"],S=["src"],D={__name:"AvgList",props:["chapterName"],setup(I){const p=I,u="/exilium/avg/"+n.cptId+"/",o=A([]),x=fetch(u+"roadmap.json").then(c=>c.json()),s=fetch(u+"detail.json").then(c=>c.json());Promise.all([x,s]).then(c=>{const r=c[0];l(r,Object.values(c[1])),o.value=r});function l(c,r){for(const i of c){const m=r.findLast(C=>C.num==i[0]);i.push((m==null?void 0:m.desc)||"")}}function _(c){const r=c.currentTarget;if(r.classList.contains("no-avg"))return;const i=r.getAttribute("num");fetch(u+i+".json").then(m=>{m.status==404?(r.lastElementChild.textContent+="（本关无AVG剧情）",r.classList.add("no-avg")):(n.avgNo=i,n.avgName=r.firstElementChild.textContent,n.viewIdx=2)})}function v(){n.viewIdx=0}return(c,r)=>(t(),e("section",null,[a("nav",null,[a("button",{onClick:v},"返回")]),a("h1",null,d(p.chapterName),1),a("div",M,[a("table",null,[(t(!0),e(h,null,f(o.value,i=>(t(),e("tr",{num:i[0],onClick:_},[a("td",null,d(i[0])+" "+d(i[1]),1),a("td",null,d(i[2]),1)],8,E))),256))]),a("img",{src:u+"map.png"},null,8,S)])]))}},F=w(D,[["__scopeId","data-v-fb52d929"]]);const H={class:"part"},G={class:"line"},O={class:"subline"},P={__name:"Avg",setup(I){const p=A([]);fetch(`/exilium/avg/${n.cptId}/${n.avgNo}.json`).then(o=>o.json()).then(o=>p.value=o);function u(){n.viewIdx=1}return(o,x)=>(t(),e("section",null,[a("nav",null,[a("button",{onClick:u},"返回")]),a("h1",null,d(g(n).avgName),1),(t(!0),e(h,null,f(p.value,(s,l)=>(t(),e("div",H,[a("h2",null,"第"+d(l+1)+"部分",1),(t(!0),e(h,null,f(s,_=>(t(),e("div",G,[(t(!0),e(h,null,f(_.split("|"),v=>(t(),e("p",O,d(v),1))),256))]))),256))]))),256))]))}},q=w(P,[["__scopeId","data-v-b18a9e34"]]);const z={key:0},J=["index","innerHTML"],K={__name:"AvgView",setup(I){const p=y(k.data),u=y(B.data),o=new Map;for(const s of u.keys())if(s<9e4){const l=p.get(s),_=s<1e3?"第"+s+"章 ":"活动 ";o.set(s,new Map([["name",_+N(l[18][8])],["intro",N(l[170][8])]]))}function x(s){const l=+s.currentTarget.getAttribute("index");n.cptId=l,n.viewIdx=1}return(s,l)=>(t(),e(h,null,[j(L),g(n).viewIdx===0?(t(),e("ul",z,[(t(!0),e(h,null,f(g(o),([_,v])=>(t(),e("li",{index:_,onClick:x,innerHTML:`<span style=font-weight:bold;>${v.get("name")}</span>  ${v.get("intro")||""}`},null,8,J))),256))])):g(n).viewIdx===1?(t(),b(F,{key:1,chapterName:g(o).get(g(n).cptId).get("name")},null,8,["chapterName"])):(t(),b(q,{key:2}))],64))}},Y=w(K,[["__scopeId","data-v-a8490740"]]);export{Y as default};
