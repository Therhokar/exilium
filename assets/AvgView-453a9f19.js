import{c as $}from"./ChapterData-011bc001.js";import{j as y}from"./j2m-085c5257.js";import{a as b}from"./txtstore-ece4f2b2.js";import{x as k,_ as w,r as C,o as t,c as e,a,t as d,F as m,i as f,u as g,g as j,d as A}from"./index-d729c514.js";import{_ as L}from"./SiteNotice-96b3c539.js";const T={1:{1:1,2:[101,102,103,104,105,106,107,108,109,110,141,142,143,144,145,146,183,184]},2:{1:2,2:[201,202,203,204,205,206,207,208,209,210,241,242,243,244,245,246,281,282,283,284,285]},3:{1:3,2:[301,302,303,304,305,306,307,308,309,310,341,342,343,344,345,346,381,382,383,384,385]},4:{1:4,2:[401,402,403,404,405,406,407,408,409,410,441,442,443,444,445,446,481,482,483,484,485,486]},5:{1:5,2:[501,502,503,504,505,506,507,508,509,510,541,542,543,544,545,546,581,582,583,584]},6:{1:6,2:[601,602,603,604,605,606,607,608,609,610,641,642,643,644,645,646,681,682,683,684,685]},7:{1:7,2:[701,702,703,704,705,706,707,708,709,710,741,742,743,744,745,746,781,782,783]},8:{1:8,2:[801,802,803,804,805,806,807,808,809,810,841,842,843,844,845,846,881,882,883,884,885]},3001:{1:3001,2:[30301,30302,30303,30304,30305,30306,30307,30308,30309,30341,30342,30343,30344,30345,30346,30381,30382]},3002:{1:3002,2:[30401,30402,30403,30404,30405,30406,30407,30408,30409]},4006:{1:4006,2:[30501,30502,30503,30504,30505,30506,30507,30508,30509,30541,30542,30543,30544,30545,30546,30586,30587]},4007:{1:4007,2:[30701,30702,30703,30704,30705,30706,30707,30708,30709,30786,30787,30788]},91001:{1:91001,2:[161,162,163,164,165]},91002:{1:91002,2:[261,262,263,264,265]},91003:{1:91003,2:[361,362,363,364,365]},91004:{1:91004,2:[461,462,463,464,465]},91005:{1:91005,2:[561,562,563,564,565]},91006:{1:91006,2:[661,662,663,664,665]},91007:{1:91007,2:[761,762,763,764,765]},91008:{1:91008,2:[861,862,863,864,865]},93001:{1:93001,2:[30101,30102,30103,30104,30105]},93002:{1:93002,2:[30461,30462,30463,30464,30465]},94006:{1:94006,2:[30561,30562,30563,30564,30565]},94007:{1:94007,2:[30761,30762,30763,30764,30765]},994001:{1:994001,2:[30111,30112,30113,30114,30115]},994002:{1:994002,2:[30471,30472,30473,30474,30475]},994004:{1:994004,2:[30571,30572,30573,30574,30575]},994007:{1:994007,2:[30771,30772,30773,30774,30775]}},V={0:{1:0,2:{2:364}},300:{1:300,2:{1:364,2:92}},400:{1:400,2:{1:456,2:101}},9100:{1:9100,2:{1:557,2:144}},9300:{1:9300,2:{1:701,2:46}},9400:{1:9400,2:{1:747,2:46}},99400:{1:99400,2:{1:793,2:92}}},B={1:10,2:1,data:T,extra:V},n=k({viewIdx:0,cptId:0,avgNo:"",avgName:""});const M={id:"stage-list"},E=["num"],D=["src"],F={__name:"AvgList",props:["chapterName"],setup(I){const p=I,u="/exilium/avg/"+n.cptId+"/",o=C([]),x=fetch(u+"roadmap.json").then(c=>c.json()),s=fetch(u+"detail.json").then(c=>c.json());Promise.all([x,s]).then(c=>{const r=c[0];l(r,Object.values(c[1])),o.value=r});function l(c,r){for(const i of c){const h=r.findLast(N=>N.num==i[0]);i.push((h==null?void 0:h.desc)||"")}}function _(c){const r=c.currentTarget;if(r.classList.contains("no-avg"))return;const i=r.getAttribute("num");fetch(u+i+".json").then(h=>{h.status==404?(r.lastElementChild.textContent+="（本关无AVG剧情）",r.classList.add("no-avg")):(n.avgNo=i,n.avgName=r.firstElementChild.textContent,n.viewIdx=2)})}function v(){n.viewIdx=0}return(c,r)=>(t(),e("section",null,[a("nav",null,[a("button",{onClick:v},"返回")]),a("h1",null,d(p.chapterName),1),a("div",M,[a("table",null,[(t(!0),e(m,null,f(o.value,i=>(t(),e("tr",{num:i[0],onClick:_},[a("td",null,d(i[0])+" "+d(i[1]),1),a("td",null,d(i[2]),1)],8,E))),256))]),a("img",{src:u+"map.png"},null,8,D)])]))}},H=w(F,[["__scopeId","data-v-fb52d929"]]);const G={class:"part"},O={class:"line"},P={class:"subline"},S={__name:"Avg",setup(I){const p=C([]);fetch(`/exilium/avg/${n.cptId}/${n.avgNo}.json`).then(o=>o.json()).then(o=>p.value=o);function u(){n.viewIdx=1}return(o,x)=>(t(),e("section",null,[a("nav",null,[a("button",{onClick:u},"返回")]),a("h1",null,d(g(n).avgName),1),(t(!0),e(m,null,f(p.value,(s,l)=>(t(),e("div",G,[a("h2",null,"第"+d(l+1)+"部分",1),(t(!0),e(m,null,f(s,_=>(t(),e("div",O,[(t(!0),e(m,null,f(_.split("|"),v=>(t(),e("p",P,d(v),1))),256))]))),256))]))),256))]))}},q=w(S,[["__scopeId","data-v-b18a9e34"]]);const z={key:0},J=["index","innerHTML"],K={__name:"AvgView",setup(I){const p=y($.data),u=y(B.data),o=new Map;for(const s of u.keys())if(s<9e4){const l=p.get(s),_=s<1e3?"第"+s+"章 ":"活动 ";o.set(s,new Map([["name",_+b(l[2][1])],["intro",b(l[22][1])]]))}function x(s){const l=+s.currentTarget.getAttribute("index");n.cptId=l,n.viewIdx=1}return(s,l)=>(t(),e(m,null,[j(L),g(n).viewIdx===0?(t(),e("ul",z,[(t(!0),e(m,null,f(g(o),([_,v])=>(t(),e("li",{index:_,onClick:x,innerHTML:`<span style=font-weight:bold;>${v.get("name")}</span>  ${v.get("intro")||""}`},null,8,J))),256))])):g(n).viewIdx===1?(t(),A(H,{key:1,chapterName:g(o).get(g(n).cptId).get("name")},null,8,["chapterName"])):(t(),A(q,{key:2}))],64))}},Y=w(K,[["__scopeId","data-v-55dd543f"]]);export{Y as default};
